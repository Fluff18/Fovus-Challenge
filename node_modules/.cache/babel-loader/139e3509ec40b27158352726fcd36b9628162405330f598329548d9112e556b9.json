{"ast":null,"code":"// Generated by CoffeeScript 1.9.1\n(function () {\n  var XMLBuilder, XMLDeclaration, XMLDocType, XMLElement, XMLStringifier;\n  XMLStringifier = require('./XMLStringifier');\n  XMLDeclaration = require('./XMLDeclaration');\n  XMLDocType = require('./XMLDocType');\n  XMLElement = require('./XMLElement');\n  module.exports = XMLBuilder = function () {\n    function XMLBuilder(name, options) {\n      var root, temp;\n      if (name == null) {\n        throw new Error(\"Root element needs a name\");\n      }\n      if (options == null) {\n        options = {};\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n      temp = new XMLElement(this, 'doc');\n      root = temp.element(name);\n      root.isRoot = true;\n      root.documentObject = this;\n      this.rootObject = root;\n      if (!options.headless) {\n        root.declaration(options);\n        if (options.pubID != null || options.sysID != null) {\n          root.doctype(options);\n        }\n      }\n    }\n    XMLBuilder.prototype.root = function () {\n      return this.rootObject;\n    };\n    XMLBuilder.prototype.end = function (options) {\n      return this.toString(options);\n    };\n    XMLBuilder.prototype.toString = function (options) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      r = '';\n      if (this.xmldec != null) {\n        r += this.xmldec.toString(options);\n      }\n      if (this.doctype != null) {\n        r += this.doctype.toString(options);\n      }\n      r += this.rootObject.toString(options);\n      if (pretty && r.slice(-newline.length) === newline) {\n        r = r.slice(0, -newline.length);\n      }\n      return r;\n    };\n    return XMLBuilder;\n  }();\n}).call(this);","map":{"version":3,"names":["XMLBuilder","XMLDeclaration","XMLDocType","XMLElement","XMLStringifier","require","module","exports","name","options","root","temp","Error","stringify","element","isRoot","documentObject","rootObject","headless","declaration","pubID","sysID","doctype","prototype","end","toString","indent","newline","offset","pretty","r","ref","ref1","ref2","xmldec","slice","length","call"],"sources":["/Users/luminosity/Desktop/Fovus/node_modules/xmlbuilder/lib/XMLBuilder.js"],"sourcesContent":["// Generated by CoffeeScript 1.9.1\n(function() {\n  var XMLBuilder, XMLDeclaration, XMLDocType, XMLElement, XMLStringifier;\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLElement = require('./XMLElement');\n\n  module.exports = XMLBuilder = (function() {\n    function XMLBuilder(name, options) {\n      var root, temp;\n      if (name == null) {\n        throw new Error(\"Root element needs a name\");\n      }\n      if (options == null) {\n        options = {};\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n      temp = new XMLElement(this, 'doc');\n      root = temp.element(name);\n      root.isRoot = true;\n      root.documentObject = this;\n      this.rootObject = root;\n      if (!options.headless) {\n        root.declaration(options);\n        if ((options.pubID != null) || (options.sysID != null)) {\n          root.doctype(options);\n        }\n      }\n    }\n\n    XMLBuilder.prototype.root = function() {\n      return this.rootObject;\n    };\n\n    XMLBuilder.prototype.end = function(options) {\n      return this.toString(options);\n    };\n\n    XMLBuilder.prototype.toString = function(options) {\n      var indent, newline, offset, pretty, r, ref, ref1, ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (ref = options != null ? options.indent : void 0) != null ? ref : '  ';\n      offset = (ref1 = options != null ? options.offset : void 0) != null ? ref1 : 0;\n      newline = (ref2 = options != null ? options.newline : void 0) != null ? ref2 : '\\n';\n      r = '';\n      if (this.xmldec != null) {\n        r += this.xmldec.toString(options);\n      }\n      if (this.doctype != null) {\n        r += this.doctype.toString(options);\n      }\n      r += this.rootObject.toString(options);\n      if (pretty && r.slice(-newline.length) === newline) {\n        r = r.slice(0, -newline.length);\n      }\n      return r;\n    };\n\n    return XMLBuilder;\n\n  })();\n\n}).call(this);\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}